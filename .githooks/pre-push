#!/usr/bin/env bash
# Pre-push hook for ypi
# Runs the same checks CI runs so failures are caught before network push.

set -euo pipefail

if [ "${YPI_SKIP_PUSH_CHECKS:-0}" = "1" ]; then
  echo "⚠️  Skipping pre-push checks (YPI_SKIP_PUSH_CHECKS=1)"
  exit 0
fi

ROOT_DIR="$(git rev-parse --show-toplevel)"
"$ROOT_DIR/scripts/pre-push-checks"
